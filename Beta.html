<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script>
            var Vides=7; 
            var Paraula=[];
            var Lletres=["_","_","_","_","_","_","_","_"];
            
            //LLista de paraules per al joc i les pistes associades
            var paraules = ["cordes", "fetge", "forca", "jutges", "jutgat", "mengen", "penjat", "quinta", "setze"];
            var pistes = ["A la quinta forca", "A ca un penjat, no hi anomenis cordes", "Setze jutges d'un jutjat mengen fetge d'un penjat"];
            var paraulespistes = [1,2,0,2,2,2,1,0,2];
            
            //Escull una paraula aleatòriament
            var aleatori = Math.floor(Math.random() * paraules.length);
            var paraula = paraules[aleatori];
            var pista = pistes[paraulespistes[aleatori]];
            
            //Marcam cada lletra amb un "_"
            for (var i= 0; i < paraula.length; i++){
                Paraula[i]="_";
            }

            function VerPista() {
                alert(pista);
                
            }    
            function myFunction() {
               lletra = document.getElementById("lletra").value;
               lletra=lletra.toLowerCase();
               switch(lletra) {
                   case"á":
                   case"à":
                       lletra="a";
                       break;
                    case"é":
                    case"è":
                       lletra="e";
                       break; 
                    case"í":
                    case"ï":
                       lletra="i";
                       break;
                    case"ó":
                    case"ö":
                       lletra="o";
                       break;
                    case"ú":
                    case"ü":
                       lletra="u";
                       break;
               }   
        // Comprueba si la letra pertenece a la pàlabra
               if(paraula.includes)(lletra);
               window.alert("has encertat");
               var pos=paraula.indexOf(lletra);
               Paraula[pos]=lletra;
               for (var i=0; i<paraula.length; i++){
                   if(paraula[i]==lletra)
                       Paraula[i]=lletra;
               }
               
               Lletres[7-Vides]=lletra;
               
                if ((lletra >= "a") && (lletra <= "n")) {
                    window.alert("has encertat");
                    palabra=palabra+lletra;
                     document.getElementById("palabra").innerHTML = palabra;
                      document.getElementById("miau").play(); 
                }
                else {
                   window.alert("has fallat"); 
                   Vides=Vides-1;
                   document.getElementById("vides").innerHTML = Vides;
                   fallos=fallos+lletra;
                   document.getElementById("fallos").innerHTML = fallos;
                   EnseñarImgn();
                   document.getElementById("boom_cloud").play();
               }
               if (Vides==0) {
                   window.alert("has perdido");
                   document.getElementById("cat-fight").play();
                   FinalJuego();
               } 
               if (palabra.length >=7) {
               window.alert("has ganado");
               document.getElementById("cheer").play();
                   FinalJuego();    
               }
            } 
            function FinalJuego() {
                document.getElementById("boton").hidden = true;
                document.getElementById("lletra").hidden = true;
            }
            function EsconderImagenes(){
                alert(aleatori + ", " + paraula + ", " + Paraula);
                document.getElementById("ahorcado_0").hidden = true
                document.getElementById("ahorcado_1").hidden = true
                document.getElementById("ahorcado_2").hidden = true
                document.getElementById("ahorcado_3").hidden = true
                document.getElementById("ahorcado_4").hidden = true
                document.getElementById("ahorcado_5").hidden = true
                document.getElementById("ahorcado_6").hidden = true
               
                document.body.style.display="block";
                if (!confirm('Anam a la quinta forca?')) {
                    document.body.style.backgroundImage = "url('img/fondo1.png')";
                }
            }
            
            function EnseñarImgn(){
                switch(Vides){
                    case 6:
                        //Declaraciones ejecutadas cuando el resultado de expresión coincide con el valor1
                        document.getElementById("ahorcado_6").hidden=false;
                        break;
                    case 5:
                        //Declaraciones ejecutadas cuando el resultado de expresión coincide con el valor2
                        document.getElementById("ahorcado_5").hidden=false;
                        document.getElementById("ahorcado_6").hidden=true;
                        break;
                    case 4:
                        //Declaraciones ejecutadas cuando el resultado de expresión coincide con el valor3
                        document.getElementById("ahorcado_4").hidden=false;
                        document.getElementById("ahorcado_5").hidden=true;
                        break;
                    case 3:
                        //Declaraciones ejecutadas cuando el resultado de expresión coincide con el valor4
                        document.getElementById("ahorcado_3").hidden=false;
                        document.getElementById("ahorcado_4").hidden=true;
                        break;
                    case 2:
                        //Declaraciones ejecutadas cuando el resultado de expresión coincide con el valor5
                        document.getElementById("ahorcado_2").hidden=false;
                        document.getElementById("ahorcado_3").hidden=true;
                        break;
                    case 1:
                        //Declaraciones ejecutadas cuando el resultado de expresión coincide con el valor6
                        document.getElementById("ahorcado_1").hidden=false;
                        document.getElementById("ahorcado_2").hidden=true;
                        break;
                        
                }
            }
        </script>    
    </head>
    <body onload='EsconderImagenes()' style="background-image: url('img/Desert.png');
          background-size: 640px 480px; background-repeat: no-repeat;">
        <h1>Prototip joc del penjat</h1>
            <input type="text" id="lletra" 
                   placeholder="Escriu una lletra minuscula"> <br> 
            <button type="button" id="boton" onclick="myFunction();">
                Comprovar</button>        
        <h2>Paraula</h2>
        <button type="button" id="pistes" onclick="VerPista();">
                Pista</button>
        <h4 id="palabra">_ _ _ _ _ _ _</h4>
        <h2>Vides</h2>
        <h4 id="vides">7</h4>
        <h2>Lletres</h2>
        <h4 id="fallos">_ _ _ _ _ _ _</h4>
         <h4>Crèdits: El joc del penjat on scratch</h4>
         
         <div id="idiomas">
             <a href="https://elaborate-bienenstitch-a32ae7.netlify.app/imagenesonido"><img src="img/ca.png" alt=""/></a>
             <a href="https://elaborate--bienenstitch--a32ae7-netlify-app.translate.goog/imagenesonido?_x_tr_sl=ca&_x_tr_tl=es&_x_tr_hl=es&_x_tr_pto=wapp"><img src="img/es.png" alt=""/></a>
             <a href="https://elaborate--bienenstitch--a32ae7-netlify-app.translate.goog/imagenesonido?_x_tr_sl=ca&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=wapp"><img src="img/gb.png" alt=""/>
         </div>
         <div id="imagenes">
            <img src="img/ahorcado_0.png" id="ahorcado_0" width="280" height="270" title="Et queden 6 vides!" />
            <img src="img/ahorcado_1.png" id="ahorcado_1" width="280" height="270" title="Et queden 5 vides!" />
            <img src="img/ahorcado_2.png" id="ahorcado_2" width="280" height="270" title="Et queden 4 vides!"/>
            <img src="img/ahorcado_3.png" id="ahorcado_3" width="280" height="270" title="Et queden 3 vides!" />
            <img src="img/ahorcado_4.png" id="ahorcado_4" width="280" height="270" title="Et queden 2 vides!" />
            <img src="img/ahorcado_5.png" id="ahorcado_5" width="280" height="270" title="Et queden 1 vides!"/>
            <img src="img/ahorcado_6.png" id="ahorcado_6" width="280" height="270" title="En pau descansi - RIP!"/>
         </div>
         <div id="audios">
             <audio id="cat-fight"><source src="aud/cat-fight.mp3" type="audio/mpeg"></audio>
             <audio id="bell_toll"><source src="aud/bell_toll.mp3" type="audio/mpeg"></audio>
             <audio id="bell_toll_x3"><source src="aud/bell_toll_x3.mp3" type="audio/mpeg"></audio>
             <audio id="boom_cloud"><source src="aud/boom_cloud.mp3" type="audio/mpeg"></audio>
             <audio id="cheer"><source src="aud/cheer.mp3" type="audio/mpeg"></audio>
             <audio id="clock_ticking"><source src="aud/clock_ticking.mp3" type="audio/mpeg"></audio>
             <audio id="miau"><source src="aud/miau.mp3" type="audio/mpeg"></audio>
             <audio id="mystery"><source src="aud/mystery.mp3" type="audio/mpeg"></audio>                       
         </div>
    </body>
</html>

